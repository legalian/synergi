{% extends "template.html" %}
{% set active_page = "editor" %}
{% block body %}

<script id="layerNode" type="text/html">
  <div class="layerbox">
    <div style="width:30px;text-align: center;" data-bind="if:type=='tree'">
      <i data-bind="class:expanded()?'material-icons rotate-90':'material-icons',click:function(){expanded(!expanded())}">play_arrow</i>
    </div>
    <div style="flex:1">
      <span data-bind="text:title,click:click"></span>
    </div>
  </div>
  <!-- ko if: type == "tree" && expanded() -->
    <div style="margin-left:20px;">
    <!-- ko template:{name: 'layerNode',foreach: children } -->
    <!-- /ko -->    
    </div>
  <!-- /ko -->
</script>


<div id="editormain">
	<div id="editleft" data-bind="template: {name:'layerNode',foreach:children}">
	</div>
	<div id="editorcenter">
		<div data-bind="foreach: tabs" id="tabbar">
			<div data-bind="click:click,text:title,class:$root.activefile()==$data?'activetab':'tab'"></div>
		</div>
		<div id="editor"></div>
	</div>
	<div id="editright" data-bind="foreach:activeusers">
		<div class="userbox" data-bind="style: { color: color}">
			<div data-bind="text:name"></div>
		</div>
	</div>
</div>


<script src="static/script/editorjs.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.6/ext-beautify.js" type="text/javascript" charset="utf-8"></script>
{% endblock %}


